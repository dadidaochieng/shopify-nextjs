"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./lib/shopify.js":
/*!************************!*\
  !*** ./lib/shopify.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getProducts\": () => (/* binding */ getProducts),\n/* harmony export */   \"getProduct\": () => (/* binding */ getProduct),\n/* harmony export */   \"getCollectionByHandle\": () => (/* binding */ getCollectionByHandle)\n/* harmony export */ });\nconst domain = process.env.SHOPIFY_STORE_DOMAIN;\nconst storefrontAccessToken = process.env.SHOPIFY_STOREFRONT_ACCESS_TOKEN;\nasync function shopifyData(query) {\n    //TODO: Check why env variables are not working\n    //const URL = `https://${domain}/admin/api/2020-07/graphql.json`;\n    const URL = `https://musicfolder-cad.myshopify.com/api/2021-10/graphql.json`;\n    const options = {\n        endpoint: URL,\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'X-Shopify-Storefront-Access-Token': 'd83339091aedba4d465f6dc044bd6bc9'\n        },\n        body: JSON.stringify({\n            query\n        })\n    };\n    try {\n        const response = await fetch(URL, options).then((res)=>res.json()\n        );\n        console.log(response);\n        return response;\n    } catch (error) {\n        console.error(error);\n        throw new Error(\"Product not fetched\", error);\n    }\n}\nasync function getProducts() {\n    const query = `\n    query {\n      products(first: 250) {\n        edges {\n          node {\n            id\n            title\n            handle\n            description\n            images(first: 250) {\n              edges {\n                node {\n                  src\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n    const data = await shopifyData(query);\n    return data.data.products.edges || [];\n}\nasync function getProduct(handle) {\n    const query = `\n    query {\n      productByHandle(handle: \"${handle}\") {\n        id\n        title\n        handle\n        description\n        images(first: 250) {\n          edges {\n            node {\n              src\n            }\n          }\n        }\n      }\n    }\n  `;\n    const data = await shopifyData(query);\n    return data.data.productByHandle;\n}\nasync function getCollectionByHandle(handle) {\n    const query = `\n    query {\n      collectionByHandle(handle: \"${handle}\") {\n        id\n        title\n        handle\n        description\n        products(first: 250) {\n          edges {\n            node {\n              id\n              title\n              handle\n              description\n              images(first: 250) {\n                edges {\n                  node {\n                    originalSrc\n                    altText\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n    const data = await shopifyData(query);\n    console.log(data);\n    return data.data.collectionByHandle;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2hvcGlmeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxLQUFLLENBQUNBLE1BQU0sR0FBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLG9CQUFvQjtBQUNoRCxLQUFLLENBQUNDLHFCQUFxQixHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csK0JBQStCO2VBRTFEQyxXQUFXLENBQUNDLEtBQUssRUFBRSxDQUFDO0lBQ2pDLEVBQStDO0lBQy9DLEVBQWlFO0lBRWpFLEtBQUssQ0FBQ0MsR0FBRyxJQUFJLDhEQUE4RDtJQUUzRSxLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDO1FBQ2ZDLFFBQVEsRUFBRUYsR0FBRztRQUNiRyxNQUFNLEVBQUUsQ0FBTTtRQUNkQyxPQUFPLEVBQUUsQ0FBQztZQUNSLENBQVEsU0FBRSxDQUFrQjtZQUM1QixDQUFjLGVBQUUsQ0FBa0I7WUFDbEMsQ0FBbUMsb0NBQUUsQ0FBa0M7UUFDekUsQ0FBQztRQUNEQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDLENBQUM7WUFDcEJSLEtBQUs7UUFDUCxDQUFDO0lBQ0gsQ0FBQztJQUVELEdBQUcsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxDQUFDUyxRQUFRLEdBQUcsS0FBSyxDQUFDQyxLQUFLLENBQUNULEdBQUcsRUFBRUMsT0FBTyxFQUFHUyxJQUFJLEVBQUNDLEdBQUcsR0FBSUEsR0FBRyxDQUFDQyxJQUFJOztRQUNoRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNOLFFBQVE7UUFDcEIsTUFBTSxDQUFDQSxRQUFRO0lBQ2pCLENBQUMsQ0FBQyxLQUFLLEVBQUVPLEtBQUssRUFBRSxDQUFDO1FBQ2ZGLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDQSxLQUFLO1FBQ25CLEtBQUssQ0FBQyxHQUFHLENBQUNDLEtBQUssQ0FBQyxDQUFxQixzQkFBRUQsS0FBSztJQUM5QyxDQUFDO0FBQ0gsQ0FBQztBQUVNLGVBQWVFLFdBQVcsR0FBRyxDQUFDO0lBQ25DLEtBQUssQ0FBQ2xCLEtBQUssSUFBSTtJQXNCZixLQUFLLENBQUNtQjtJQUNOLE1BQU0sQ0FBQ0EsSUFBSSxDQUFDQSxJQUFJLENBQUNDO0FBQ25CLENBQUM7QUFFRCxNQUFNO0lBQ0osS0FBSyxDQUFDcEI7SUFrQk4sS0FBSyxDQUFDbUIsSUFBSSxHQUFHO0lBQ2IsTUFBTSxDQUFDQSxJQUFJLENBQUNBO0FBQ2QsQ0FBQztBQUVELE1BQU0sZ0JBQWdCTTtJQUNwQixLQUFLLENBQUN6QixLQUFLLElBQUk7SUE2QmYsS0FBSyxDQUFDbUIsSUFBSSxHQUFHLEtBQUs7SUFDbEJMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxJQUFJO0lBQ2hCLE1BQU0sQ0FBQ0EsSUFBSSxDQUFDQTtBQUNkLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvc2hvcGlmeS5qcz9lZjdiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRvbWFpbiAgPSBwcm9jZXNzLmVudi5TSE9QSUZZX1NUT1JFX0RPTUFJTjtcbmNvbnN0IHN0b3JlZnJvbnRBY2Nlc3NUb2tlbiA9IHByb2Nlc3MuZW52LlNIT1BJRllfU1RPUkVGUk9OVF9BQ0NFU1NfVE9LRU47XG5cbmFzeW5jIGZ1bmN0aW9uIHNob3BpZnlEYXRhKHF1ZXJ5KSB7XG4gIC8vVE9ETzogQ2hlY2sgd2h5IGVudiB2YXJpYWJsZXMgYXJlIG5vdCB3b3JraW5nXG4gIC8vY29uc3QgVVJMID0gYGh0dHBzOi8vJHtkb21haW59L2FkbWluL2FwaS8yMDIwLTA3L2dyYXBocWwuanNvbmA7XG5cbiAgY29uc3QgVVJMID0gYGh0dHBzOi8vbXVzaWNmb2xkZXItY2FkLm15c2hvcGlmeS5jb20vYXBpLzIwMjEtMTAvZ3JhcGhxbC5qc29uYDtcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGVuZHBvaW50OiBVUkwsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnWC1TaG9waWZ5LVN0b3JlZnJvbnQtQWNjZXNzLVRva2VuJzogJ2Q4MzMzOTA5MWFlZGJhNGQ0NjVmNmRjMDQ0YmQ2YmM5JyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHF1ZXJ5LFxuICAgIH0pLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChVUkwsIG9wdGlvbnMpLiB0aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvZHVjdCBub3QgZmV0Y2hlZFwiLCBlcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3RzKCkge1xuICBjb25zdCBxdWVyeSA9IGBcbiAgICBxdWVyeSB7XG4gICAgICBwcm9kdWN0cyhmaXJzdDogMjUwKSB7XG4gICAgICAgIGVkZ2VzIHtcbiAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgaGFuZGxlXG4gICAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgICAgaW1hZ2VzKGZpcnN0OiAyNTApIHtcbiAgICAgICAgICAgICAgZWRnZXMge1xuICAgICAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICAgICAgc3JjXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgO1xuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzaG9waWZ5RGF0YShxdWVyeSk7XG4gIHJldHVybiBkYXRhLmRhdGEucHJvZHVjdHMuZWRnZXMgfHwgW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0IChoYW5kbGUpIHtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgcXVlcnkge1xuICAgICAgcHJvZHVjdEJ5SGFuZGxlKGhhbmRsZTogXCIke2hhbmRsZX1cIikge1xuICAgICAgICBpZFxuICAgICAgICB0aXRsZVxuICAgICAgICBoYW5kbGVcbiAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgaW1hZ2VzKGZpcnN0OiAyNTApIHtcbiAgICAgICAgICBlZGdlcyB7XG4gICAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgICAgc3JjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgO1xuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzaG9waWZ5RGF0YShxdWVyeSk7XG4gIHJldHVybiBkYXRhLmRhdGEucHJvZHVjdEJ5SGFuZGxlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbkJ5SGFuZGxlIChoYW5kbGUpIHtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgcXVlcnkge1xuICAgICAgY29sbGVjdGlvbkJ5SGFuZGxlKGhhbmRsZTogXCIke2hhbmRsZX1cIikge1xuICAgICAgICBpZFxuICAgICAgICB0aXRsZVxuICAgICAgICBoYW5kbGVcbiAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgcHJvZHVjdHMoZmlyc3Q6IDI1MCkge1xuICAgICAgICAgIGVkZ2VzIHtcbiAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICBoYW5kbGVcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgaW1hZ2VzKGZpcnN0OiAyNTApIHtcbiAgICAgICAgICAgICAgICBlZGdlcyB7XG4gICAgICAgICAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTcmNcbiAgICAgICAgICAgICAgICAgICAgYWx0VGV4dFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgYDtcblxuICBjb25zdCBkYXRhID0gYXdhaXQgc2hvcGlmeURhdGEocXVlcnkpO1xuICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgcmV0dXJuIGRhdGEuZGF0YS5jb2xsZWN0aW9uQnlIYW5kbGU7XG59XG5cbiJdLCJuYW1lcyI6WyJkb21haW4iLCJwcm9jZXNzIiwiZW52IiwiU0hPUElGWV9TVE9SRV9ET01BSU4iLCJzdG9yZWZyb250QWNjZXNzVG9rZW4iLCJTSE9QSUZZX1NUT1JFRlJPTlRfQUNDRVNTX1RPS0VOIiwic2hvcGlmeURhdGEiLCJxdWVyeSIsIlVSTCIsIm9wdGlvbnMiLCJlbmRwb2ludCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIkVycm9yIiwiZ2V0UHJvZHVjdHMiLCJkYXRhIiwicHJvZHVjdHMiLCJlZGdlcyIsImdldFByb2R1Y3QiLCJoYW5kbGUiLCJwcm9kdWN0QnlIYW5kbGUiLCJnZXRDb2xsZWN0aW9uQnlIYW5kbGUiLCJjb2xsZWN0aW9uQnlIYW5kbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/shopify.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Index),\n/* harmony export */   \"getStaticProps\": () => (/* binding */ getStaticProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/shopify */ \"./lib/shopify.js\");\n\n\nfunction Index({ products , customCollection  }) {\n    console.log(products);\n    console.log(customCollection);\n    return(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        __source: {\n            fileName: \"/home/dadidaochieng/Projects/shopify-nextjs/src/pages/index.js\",\n            lineNumber: 7,\n            columnNumber: 5\n        },\n        __self: this,\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n            __source: {\n                fileName: \"/home/dadidaochieng/Projects/shopify-nextjs/src/pages/index.js\",\n                lineNumber: 8,\n                columnNumber: 7\n            },\n            __self: this,\n            children: \"Index\"\n        })\n    }));\n};\nasync function getStaticProps() {\n    const products = await (0,_lib_shopify__WEBPACK_IMPORTED_MODULE_1__.getProducts)();\n    const customCollection = await (0,_lib_shopify__WEBPACK_IMPORTED_MODULE_1__.getCollectionByHandle)('components');\n    return {\n        props: {\n            products,\n            customCollection\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUU7QUFFcEQsUUFBUSxDQUFDRSxLQUFLLENBQUMsQ0FBQyxDQUFDQyxRQUFRLEdBQUVDLGdCQUFnQixHQUFDLEVBQUUsQ0FBQztJQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUNILFFBQVE7SUFDcEJFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixnQkFBZ0I7SUFDNUIsTUFBTSxzRUFDSEcsQ0FBRzs7Ozs7Ozt1RkFDREMsQ0FBRTs7Ozs7OztzQkFBQyxDQUFLOzs7QUFHZixDQUFDO0FBRU0sZUFBZUMsY0FBYyxHQUFHLENBQUM7SUFDdEMsS0FBSyxDQUFDTixRQUFRLEdBQUcsS0FBSyxDQUFDSCx5REFBVztJQUNsQyxLQUFLLENBQUNJLGdCQUFnQixHQUFHLEtBQUssQ0FBQ0gsbUVBQXFCLENBQUMsQ0FBWTtJQUVqRSxNQUFNLENBQUMsQ0FBQztRQUNOUyxLQUFLLEVBQUUsQ0FBQztZQUNOUCxRQUFRO1lBQ1JDLGdCQUFnQjtRQUNsQixDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9pbmRleC5qcz9iZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFByb2R1Y3RzLCBnZXRDb2xsZWN0aW9uQnlIYW5kbGUgfSBmcm9tICcuLi9saWIvc2hvcGlmeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluZGV4KHsgcHJvZHVjdHMsIGN1c3RvbUNvbGxlY3Rpb259KSB7XG4gIGNvbnNvbGUubG9nKHByb2R1Y3RzKTtcbiAgY29uc29sZS5sb2coY3VzdG9tQ29sbGVjdGlvbik7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxoMT5JbmRleDwvaDE+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGF0aWNQcm9wcygpIHtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBnZXRQcm9kdWN0cygpO1xuICBjb25zdCBjdXN0b21Db2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbkJ5SGFuZGxlKCdjb21wb25lbnRzJyk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wczoge1xuICAgICAgcHJvZHVjdHMsXG4gICAgICBjdXN0b21Db2xsZWN0aW9uLFxuICAgIH0sXG4gIH07XG59XG4iXSwibmFtZXMiOlsiZ2V0UHJvZHVjdHMiLCJnZXRDb2xsZWN0aW9uQnlIYW5kbGUiLCJJbmRleCIsInByb2R1Y3RzIiwiY3VzdG9tQ29sbGVjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJkaXYiLCJoMSIsImdldFN0YXRpY1Byb3BzIiwicHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("react/jsx-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.js"));
module.exports = __webpack_exports__;

})();